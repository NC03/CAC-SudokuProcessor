import java.awt.image.*;
import javax.imageio.*;
import java.io.*;
import java.awt.Color;

public class HistogramGenerator {
    public static double[][][] model = {{{0.02097902097902098,0.024228296955569682,0.027477572932118388,0.030726848908667094,0.0339761248852158,0.03609521791339974,0.037719855901674086,0.039344493889948436,0.04096913187822279,0.04322949777495232,0.04647877375150102,0.04972804972804973,0.052977325704598434,0.055944055944055944,0.055944055944055944,0.055944055944055944,0.055944055944055944,0.055944055944055944,0.055944055944055944,0.055944055944055944,0.055944055944055944,0.055944055944055944,0.052836052836052846,0.04633750088295543,0.03983894892985801,0.03334039697676062,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.028819665183301545,0.030444303171575895,0.03206894115985025,0.0336935791481246,0.03743731016458297,0.048809776082503406,0.06018224200042384,0.07155470791834428,0.08292717383626472,0.08391608391608392,0.08391608391608392,0.08391608391608392,0.08391608391608392,0.08391608391608392,0.08391608391608392,0.08391608391608392,0.08391608391608392,0.08391608391608392,0.08391608391608392,0.08391608391608392,0.08391608391608392,0.08391608391608392},{0.04895104895104895,0.04895104895104895,0.04895104895104895,0.04895104895104895,0.04895104895104895,0.04895104895104895,0.04895104895104895,0.04895104895104895,0.04895104895104895,0.04895104895104895,0.04972804972804973,0.050505050505050504,0.05128205128205128,0.052059052059052056,0.05283605283605283,0.053613053613053616,0.05439005439005439,0.05516705516705517,0.055944055944055944,0.05672105672105672,0.0574980574980575,0.05827505827505827,0.059052059052059055,0.05982905982905983,0.06060606060606061,0.06138306138306139,0.06216006216006217,0.06293706293706294,0.07381507381507378,0.08469308469308466,0.09557109557109554,0.10644910644910643,0.11732711732711731,0.1282051282051282,0.13908313908313907,0.14996114996114995,0.16083916083916083,0.1616161616161616,0.1623931623931624,0.16317016317016317,0.16394716394716394,0.16472416472416473,0.1655011655011655,0.16627816627816627,0.16705516705516707,0.16783216783216784,0.16783216783216784,0.16783216783216784,0.16783216783216784,0.16783216783216784,0.16783216783216784,0.16783216783216784,0.16783216783216784,0.16783216783216784,0.16783216783216784,0.16783216783216784,0.16783216783216784,0.16783216783216784,0.16783216783216784,0.16783216783216784,0.16783216783216784,0.16783216783216784,0.16783216783216784,0.16783216783216784,0.15306915306915314,0.13830613830613842,0.12354312354312359,0.10878010878010888,0.09401709401709406,0.07925407925407935,0.06449106449106451,0.0497280497280498,0.03496503496503497,0.03418803418803419,0.033411033411033415,0.032634032634032646,0.031857031857031856,0.031080031080031083,0.030303030303030307,0.029526029526029535,0.028749028749028745,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.027972027972027972,0.027972027972027972}},{{0.0380952380952381,0.04252044252044252,0.04694564694564694,0.05137085137085137,0.055796055796055795,0.05868205868205868,0.0608946608946609,0.06310726310726311,0.06531986531986532,0.06753246753246753,0.06974506974506975,0.07195767195767196,0.07417027417027418,0.07551707551707552,0.06777296777296778,0.06002886002886003,0.05228475228475229,0.04454064454064455,0.04112554112554113,0.03891293891293891,0.036700336700336705,0.034487734487734484,0.032275132275132276,0.03006253006253006,0.027849927849927847,0.02563732563732564,0.023809523809523808,0.023809523809523808,0.023809523809523808,0.023809523809523808,0.023809523809523808,0.023809523809523808,0.023809523809523808,0.023809523809523808,0.023809523809523808,0.023809523809523808,0.023809523809523808,0.023809523809523808,0.023809523809523808,0.023809523809523808,0.023809523809523808,0.023809523809523808,0.023809523809523808,0.023809523809523808,0.023809523809523808,0.023809523809523808,0.023809523809523808,0.023809523809523808,0.023809523809523808,0.023809523809523808,0.023809523809523808,0.023809523809523808,0.023809523809523808,0.023809523809523808,0.023809523809523808,0.023809523809523808,0.023809523809523808,0.023809523809523808,0.023809523809523808,0.023809523809523808,0.023809523809523808,0.023809523809523808,0.023809523809523808,0.023809523809523808,0.023809523809523808,0.024290524290524286,0.025396825396825397,0.0265031265031265,0.027609427609427608,0.028427128427128422,0.02732082732082732,0.026214526214526215,0.02510822510822511,0.024001924001924007,0.023809523809523808,0.023809523809523808,0.023809523809523808,0.023809523809523808,0.024963924963924963,0.02717652717652717,0.029389129389129378,0.03160173160173159,0.035738335738335805,0.046801346801346844,0.05786435786435788,0.06892736892736892,0.07999037999037997,0.08196248196248196,0.08306878306878307,0.08417508417508418,0.08528138528138529,0.08571428571428572,0.08571428571428572,0.08571428571428572,0.08571428571428572,0.08571428571428572,0.08571428571428572,0.08571428571428572,0.08571428571428572,0.08571428571428572},{0.01904761904761905,0.020683020683020685,0.02231842231842232,0.023953823953823953,0.02558922558922559,0.027224627224627224,0.029004329004329005,0.031457431457431455,0.03391053391053391,0.03636363636363636,0.03881673881673882,0.04126984126984127,0.043434343434343436,0.04506974506974507,0.04670514670514671,0.048340548340548344,0.04997594997594998,0.05161135161135161,0.05238095238095238,0.05238095238095238,0.05238095238095238,0.05238095238095238,0.05238095238095238,0.05238095238095238,0.05238095238095238,0.05238095238095238,0.05238095238095238,0.05238095238095238,0.05238095238095238,0.05238095238095238,0.0531024531024531,0.053920153920153924,0.05473785473785474,0.05555555555555555,0.056373256373256374,0.05719095719095719,0.05800865800865801,0.058826358826358824,0.059644059644059645,0.060461760461760466,0.06127946127946128,0.06171236171236172,0.0608946608946609,0.060076960076960076,0.05925925925925926,0.05844155844155845,0.057623857623857626,0.05747955747955748,0.05829725829725829,0.05911495911495911,0.05993265993265993,0.06075036075036075,0.06156806156806157,0.06190476190476191,0.06190476190476191,0.06190476190476191,0.06190476190476191,0.06190476190476191,0.06190476190476191,0.06253006253006253,0.06334776334776335,0.06416546416546416,0.06498316498316499,0.0658008658008658,0.06661856661856662,0.0705146705146705,0.07460317460317457,0.07869167869167869,0.08278018278018277,0.08686868686868685,0.09028379028379027,0.08864838864838864,0.08701298701298701,0.08537758537758539,0.08374218374218376,0.08210678210678211,0.08071188071188072,0.0798941798941799,0.07907647907647908,0.07825877825877826,0.07744107744107745,0.07662337662337664,0.07542087542087544,0.07378547378547379,0.07215007215007216,0.07051467051467053,0.06887926887926887,0.06724386724386724,0.06507936507936508,0.06262626262626264,0.06017316017316019,0.05772005772005772,0.05526695526695527,0.05281385281385283,0.04766714766714765,0.041943241943242004,0.036219336219336234,0.030495430495430468,0.024771524771524816,0.01904761904761905}},{{0.04591836734693878,0.05065965780251495,0.055400948258091116,0.06014223871366729,0.06488352916924346,0.06797567511853227,0.07034632034632035,0.07271696557410844,0.07508761080189652,0.07421150278293136,0.06828488971346115,0.062358276643990934,0.056431663574520716,0.050608122036693466,0.0458668315811173,0.04112554112554113,0.03638425066996496,0.03164296021438878,0.029684601113172542,0.028499278499278496,0.027313955885384458,0.026128633271490415,0.025510204081632654,0.025510204081632654,0.025510204081632654,0.025510204081632654,0.025510204081632654,0.025510204081632654,0.025510204081632654,0.025510204081632654,0.025510204081632654,0.024479488765203054,0.02329416615130901,0.022108843537414963,0.020923520923520924,0.021078128220985363,0.022263450834879402,0.023448773448773445,0.024634096062667494,0.026437847866419294,0.029993815708101414,0.03354978354978356,0.03710575139146568,0.0406617192331478,0.04081632653061224,0.04081632653061224,0.04081632653061224,0.04081632653061224,0.04236239950525665,0.044733044733044736,0.04710368996083281,0.0494743351886209,0.04978354978354978,0.04622758194186766,0.04267161410018554,0.03911564625850342,0.03561121418264275,0.03324056895485467,0.03086992372706659,0.028499278499278493,0.026128633271490412,0.024634096062667494,0.023448773448773455,0.022263450834879402,0.021078128220985363,0.020923520923520917,0.02210884353741497,0.02329416615130901,0.024479488765203047,0.025510204081632654,0.025510204081632654,0.025510204081632654,0.025510204081632654,0.025510204081632654,0.02746856318284888,0.029839208410636996,0.03220985363842507,0.03458049886621316,0.037569573283858994,0.041125541125541114,0.044681508967223234,0.048237476808905354,0.05282415996701716,0.06112141826427544,0.06941867656153372,0.077715934858792,0.08601319315605027,0.08457019171304887,0.08219954648526079,0.07982890125747268,0.07745825602968459,0.07364460935889507,0.06890331890331891,0.06416202844774274,0.059420737992166586,0.054679447536590424,0.04993815708101419,0.04519686662543803,0.04045557616986187,0.03571428571428571},{0.01020408163265306,0.011956297670583383,0.013708513708513708,0.015460729746444031,0.017212945784374354,0.018965161822304677,0.020871985157699443,0.023500309214594926,0.026128633271490412,0.028756957328385898,0.031385281385281384,0.03401360544217687,0.03633271490414347,0.0380849309420738,0.03983714698000412,0.04158936301793445,0.04334157905586477,0.045093795093795096,0.045454545454545456,0.04457843743558029,0.04370232941661513,0.042826221397649966,0.0419501133786848,0.04107400535971964,0.04081632653061224,0.04081632653061224,0.04081632653061224,0.04081632653061224,0.04081632653061224,0.04081632653061224,0.042362399505256644,0.04411461554318697,0.04586683158111729,0.047619047619047616,0.04937126365697794,0.05102040816326531,0.05102040816326531,0.05102040816326531,0.05102040816326531,0.05102040816326531,0.05102040816326531,0.05102040816326531,0.05102040816326531,0.05102040816326531,0.05102040816326531,0.05102040816326531,0.05102040816326531,0.05102040816326531,0.05102040816326531,0.05102040816326531,0.05102040816326531,0.05102040816326531,0.05102040816326531,0.0520511234796949,0.05380333951762524,0.05555555555555556,0.05730777159348588,0.05905998763141619,0.06081220366934651,0.06189445475159761,0.06277056277056277,0.06364667078952793,0.0645227788084931,0.06539888682745826,0.06627499484642342,0.07209853638425065,0.07823129251700676,0.08436404864976295,0.09049680478251906,0.09662956091527518,0.10224695938981654,0.10399917542774686,0.10575139146567718,0.10750360750360749,0.10925582354153782,0.11100803957946816,0.11147186147186147,0.108843537414966,0.10621521335807049,0.10358688930117502,0.10095856524427953,0.09833024118738405,0.09611420325706041,0.09436198721913007,0.09260977118119976,0.09085755514326943,0.0891053391053391,0.08735312306740878,0.0844671201814059,0.08096268810554527,0.07745825602968463,0.07395382395382395,0.07044939187796331,0.06694495980210269,0.05839002267573694,0.04875283446712028,0.03911564625850343,0.029478458049886573,0.019841269841269916,0.01020408163265306}},{{0.02617801047120419,0.027394362472896505,0.02861071447458882,0.029827066476281135,0.03104341847797345,0.031413612565445025,0.031413612565445025,0.031413612565445025,0.031413612565445025,0.03188957639219419,0.033105928393886506,0.03432228039557882,0.03553863239727114,0.03675498439896346,0.037971336400655774,0.03918768840234809,0.04040404040404041,0.041620392405732724,0.041884816753926704,0.041884816753926704,0.041884816753926704,0.041884816753926704,0.04130308318789994,0.040086731186207626,0.03887037918451531,0.03765402718282299,0.036860754138241046,0.03807710613993336,0.03929345814162568,0.040509810143318,0.04172616214501031,0.041884816753926704,0.041884816753926704,0.041884816753926704,0.041884816753926704,0.04119731344862235,0.03998096144693004,0.03876460944523772,0.037548257443545396,0.03696652387751864,0.03818287587921095,0.039399227880903276,0.04061557988259559,0.04183193188428791,0.041884816753926704,0.041884816753926704,0.041884816753926704,0.041884816753926704,0.04109154370934475,0.03987519170765244,0.038658839705960124,0.03744248770426781,0.03664921465968586,0.03664921465968586,0.03664921465968586,0.03664921465968586,0.03680786926860225,0.040456925273679195,0.04410598127875613,0.0477550372838331,0.05140409328891005,0.060447405997144196,0.071394574012375,0.08234174202760591,0.09328891004283674,0.09947643979057591,0.09947643979057591,0.09947643979057591,0.09947643979057591,0.09947643979057591,0.09947643979057591,0.09947643979057591,0.09947643979057591,0.09947643979057591,0.08440425194351908,0.06615897191813411,0.04791369189274941,0.029668411867364713,0.020942408376963352,0.020942408376963352,0.020942408376963352,0.020942408376963352,0.020942408376963352,0.020942408376963352,0.020942408376963352,0.020942408376963352,0.020942408376963352,0.020942408376963352,0.020942408376963352,0.020942408376963352,0.020942408376963352,0.020942408376963352,0.020942408376963352,0.020942408376963352,0.020942408376963352,0.020942408376963352,0.020942408376963352,0.020942408376963352,0.020942408376963352,0.020942408376963352},{0.020942408376963352,0.021894336030461686,0.02284626368396002,0.023798191337458353,0.024750118990956686,0.025702046644455023,0.027129938124702522,0.02903379343169919,0.03093764873869586,0.03284150404569253,0.034745359352689194,0.03664921465968586,0.0376011423131842,0.038553069966682535,0.039504997620180865,0.0404569252736792,0.04140885292717754,0.04236078058067587,0.043312708234174206,0.044264635887672536,0.04521656354117087,0.04616849119466921,0.04712041884816754,0.04616849119466921,0.04521656354117087,0.044264635887672536,0.043312708234174206,0.04236078058067587,0.041884816753926704,0.041884816753926704,0.041884816753926704,0.041884816753926704,0.041884816753926704,0.041884816753926704,0.041884816753926704,0.041884816753926704,0.041884816753926704,0.041884816753926704,0.041884816753926704,0.041884816753926704,0.041884816753926704,0.041884816753926704,0.041884816753926704,0.041884816753926704,0.041884816753926704,0.041884816753926704,0.041884816753926704,0.041884816753926704,0.041884816753926704,0.041884816753926704,0.04283674440742505,0.044740599714421715,0.04664445502141838,0.04854831032841504,0.05045216563541171,0.05235602094240838,0.06568300809138504,0.0790099952403617,0.09233698238933838,0.10566396953831517,0.11899095668729183,0.1256544502617801,0.1256544502617801,0.1256544502617801,0.1256544502617801,0.1256544502617801,0.1256544502617801,0.1256544502617801,0.1256544502617801,0.1256544502617801,0.1256544502617801,0.1256544502617801,0.1256544502617801,0.1256544502617801,0.1256544502617801,0.1256544502617801,0.1256544502617801,0.1256544502617801,0.1056639695383151,0.0856734888148501,0.06568300809138491,0.04569252736791991,0.025702046644454912,0.015706806282722512,0.015706806282722512,0.015706806282722512,0.015706806282722512,0.015706806282722512,0.015706806282722512,0.015706806282722512,0.015706806282722512,0.015706806282722512,0.015706806282722512,0.015706806282722512,0.015706806282722512,0.015706806282722512,0.015706806282722512,0.015706806282722512,0.015706806282722512,0.015706806282722512}},{{0.06451612903225806,0.06451612903225806,0.06451612903225806,0.06451612903225806,0.06451612903225806,0.06451612903225806,0.06451612903225806,0.06451612903225806,0.06451612903225806,0.06451612903225806,0.06451612903225806,0.06451612903225806,0.06451612903225806,0.0635851603593539,0.052879020620956105,0.0421728808825583,0.0314667411441605,0.020760601405762705,0.018433179723502304,0.018433179723502304,0.018433179723502304,0.018433179723502304,0.018433179723502304,0.018433179723502304,0.018433179723502304,0.018433179723502304,0.018433179723502304,0.018433179723502304,0.018433179723502304,0.018433179723502304,0.018433179723502304,0.020295117069310614,0.022436345016990177,0.024577572964669742,0.0267188009123493,0.031280547409579675,0.03770423125261834,0.044127915095657014,0.05055159893869573,0.056137410976120655,0.05934925289763999,0.06256109481915935,0.06577293674067869,0.06898477866219802,0.06810035842293907,0.06702974444909929,0.0659591304752595,0.06488851650141973,0.06102499650886746,0.055671926639668565,0.05031885677046968,0.04496578690127079,0.03998510450123353,0.03570264860587441,0.0314201927105153,0.027137736815156188,0.02304147465437788,0.02304147465437788,0.02304147465437788,0.02304147465437788,0.02304147465437788,0.02304147465437788,0.02304147465437788,0.02304147465437788,0.02304147465437788,0.02304147465437788,0.02304147465437788,0.02304147465437788,0.02304147465437788,0.02304147465437788,0.02304147465437788,0.02304147465437788,0.02304147465437788,0.02304147465437788,0.024810315132895763,0.026951543080575353,0.02909277102825491,0.031233998975934464,0.03337522692361402,0.035516454871293575,0.03765768281897313,0.039798910766652686,0.04310384955546251,0.05059814737234095,0.0580924451892194,0.06558674300609785,0.07308104082297628,0.0717776846809105,0.06963645673323093,0.06749522878555135,0.0653540008378718,0.06256109481915932,0.059349252897639995,0.05613741097612066,0.05292556905460133,0.04938788809756555,0.04510543220220637,0.04082297630684725,0.03654052041148814,0.03225806451612903},{0.004608294930875576,0.006982265046781176,0.009356235162686775,0.011730205278592375,0.014104175394497976,0.016478145510403573,0.020108923334729786,0.029604803798352182,0.03910068426197458,0.04859656472559698,0.05809244518921938,0.06758832565284177,0.07429130009775171,0.07587394684168877,0.07745659358562584,0.07903924032956292,0.08062188707349997,0.08220453381743704,0.0825303728529535,0.08173904948098497,0.08094772610901643,0.0801564027370479,0.07936507936507936,0.07857375599311082,0.07834101382488479,0.07834101382488479,0.07834101382488479,0.07834101382488479,0.07834101382488479,0.07834101382488479,0.07415165479681608,0.06940371456500488,0.0646557743331937,0.05990783410138251,0.05515989386957129,0.05069124423963134,0.05069124423963134,0.05069124423963134,0.05069124423963134,0.05069124423963134,0.05069124423963134,0.05069124423963134,0.05069124423963134,0.05069124423963134,0.05069124423963134,0.05069124423963134,0.05069124423963134,0.0510170832751478,0.05180840664711633,0.052599730019084856,0.05339105339105339,0.05418237676302193,0.054973700134990464,0.055299539170506916,0.055299539170506916,0.055299539170506916,0.055299539170506916,0.055299539170506916,0.055299539170506916,0.055299539170506916,0.055299539170506916,0.055299539170506916,0.055299539170506916,0.055299539170506916,0.055299539170506916,0.05678908904715356,0.05837173579109062,0.059954382535027696,0.06153702927896476,0.06311967602290182,0.06488851650141973,0.06805380998929386,0.07121910347716799,0.07438439696504211,0.07754969045291624,0.0807149839407904,0.0824838244193083,0.08090117767537124,0.07931853093143415,0.07773588418749709,0.07615323744356003,0.07457059069962296,0.07336033142484756,0.07256900805287902,0.07177768468091049,0.07098636130894197,0.07019503793697342,0.0694037145650049,0.06554019457245265,0.060000930968672934,0.05446166736489322,0.04892240376111344,0.043383140157333716,0.037843876553554,0.03425964716287296,0.031094353674998867,0.02792906018712471,0.024763766699250553,0.02159847321137646,0.018433179723502304}},{{0.04017857142857143,0.043290043290043295,0.04640151515151515,0.04951298701298701,0.05262445887445887,0.05429292929292929,0.05533008658008658,0.056367243867243864,0.05740440115440115,0.05600649350649351,0.05082070707070707,0.04563492063492064,0.04044913419913419,0.03535353535353535,0.0312049062049062,0.027056277056277056,0.022907647907647908,0.01875901875901876,0.018668831168831168,0.019705988455988456,0.02074314574314574,0.021780303030303032,0.021825396825396828,0.02078823953823954,0.01975108225108225,0.018713924963924964,0.018037518037518036,0.019074675324675324,0.020111832611832612,0.021148989898989896,0.022186147186147188,0.022321428571428572,0.022321428571428572,0.022321428571428572,0.022321428571428572,0.027011183261183267,0.035308441558441546,0.04360569985569983,0.05190295815295817,0.05857683982683983,0.0606511544011544,0.06272546897546898,0.06479978354978355,0.06687409812409811,0.0679563492063492,0.0689935064935065,0.07003066378066378,0.07106782106782106,0.0687229437229437,0.06457431457431456,0.060425685425685424,0.05627705627705629,0.05284992784992784,0.05077561327561327,0.048701298701298704,0.046626984126984135,0.044642857142857144,0.044642857142857144,0.044642857142857144,0.044642857142857144,0.044642857142857144,0.044642857142857144,0.044642857142857144,0.044642857142857144,0.044642857142857144,0.044642857142857144,0.044642857142857144,0.044642857142857144,0.044642857142857144,0.044642857142857144,0.044642857142857144,0.044642857142857144,0.044642857142857144,0.044642857142857144,0.043786075036075046,0.042748917748917745,0.041711760461760464,0.040674603174603176,0.04017857142857143,0.04017857142857143,0.04017857142857143,0.04017857142857143,0.040404040404040414,0.041441197691197695,0.04247835497835498,0.043515512265512264,0.04455266955266955,0.04653679653679653,0.0486111111111111,0.050685425685425695,0.05275974025974026,0.05167748917748917,0.04856601731601731,0.04545454545454546,0.04234307359307361,0.038600288600288635,0.03341450216450213,0.028228715728715707,0.02304292929292928,0.017857142857142856},{0.049107142857142856,0.051993145743145744,0.054879148629148625,0.05776515151515151,0.0606511544011544,0.06353715728715728,0.06642316017316018,0.06872294372294373,0.07088744588744589,0.07305194805194805,0.07521645021645022,0.07738095238095238,0.07954545454545456,0.08125901875901877,0.08270202020202021,0.08414502164502165,0.08558802308802309,0.08703102453102454,0.08847402597402598,0.08991702741702742,0.09136002886002886,0.0928030303030303,0.09424603174603174,0.09568903318903318,0.09713203463203463,0.09641053391053389,0.08919552669552668,0.08198051948051946,0.07476551226551223,0.06755050505050506,0.060335497835497826,0.05348124098124098,0.05203823953823953,0.05059523809523809,0.04915223665223664,0.0477092352092352,0.04626623376623377,0.04482323232323232,0.04401154401154401,0.04329004329004329,0.04256854256854257,0.04184704184704185,0.04112554112554113,0.04040404040404041,0.04017857142857143,0.04017857142857143,0.04017857142857143,0.04017857142857143,0.04017857142857143,0.04017857142857143,0.04017857142857143,0.04017857142857143,0.04017857142857143,0.04017857142857143,0.04017857142857143,0.04017857142857143,0.040404040404040414,0.041125541125541135,0.04184704184704185,0.042568542568542575,0.043290043290043295,0.044011544011544015,0.044642857142857144,0.044642857142857144,0.044642857142857144,0.044642857142857144,0.044642857142857144,0.044642857142857144,0.044642857142857144,0.05005411255411258,0.05582611832611839,0.06159812409812414,0.06737012987012989,0.0731421356421357,0.07891414141414144,0.07981601731601731,0.07909451659451659,0.07837301587301587,0.07765151515151514,0.07693001443001443,0.0762085137085137,0.07548701298701298,0.07476551226551226,0.07404401154401154,0.07332251082251082,0.0726010101010101,0.07187950937950938,0.07007575757575753,0.06646825396825394,0.06286075036075031,0.059253246753246724,0.05564574314574313,0.0520382395382395,0.0485660173160173,0.0456800144300144,0.04279401154401152,0.03990800865800865,0.03702200577200575,0.034136002886002874,0.03125}},{{0.10559006211180125,0.10559006211180125,0.10559006211180125,0.10559006211180125,0.10559006211180125,0.10559006211180125,0.10559006211180125,0.10559006211180125,0.10559006211180125,0.10559006211180125,0.10559006211180125,0.10559006211180125,0.10559006211180125,0.10395884308927787,0.0851998243302591,0.06644080557124035,0.04768178681222159,0.028922768053202833,0.024844720496894408,0.024844720496894408,0.024844720496894408,0.024844720496894408,0.024844720496894408,0.024844720496894408,0.024844720496894408,0.024844720496894408,0.024844720496894408,0.024844720496894408,0.024844720496894408,0.024844720496894408,0.024844720496894408,0.024844720496894408,0.024844720496894408,0.024844720496894408,0.024844720496894408,0.024844720496894408,0.024844720496894408,0.024844720496894408,0.024844720496894408,0.024844720496894408,0.024844720496894408,0.024844720496894408,0.024844720496894408,0.024844720496894408,0.026224982746721873,0.027667984189723323,0.02911098563272476,0.0305539870757262,0.03011481272350837,0.02867181128050693,0.027228809837505488,0.025785808394504048,0.02534663404228622,0.026789635485287656,0.028232636928289097,0.029675638371290537,0.030993161427944036,0.029550159984942596,0.028107158541941155,0.026664157098939704,0.025221155655938264,0.025911286780851993,0.027354288223853433,0.028797289666854888,0.030240291109856324,0.031055900621118012,0.031055900621118012,0.031055900621118012,0.031055900621118012,0.031055900621118012,0.031055900621118012,0.031055900621118012,0.031055900621118012,0.031055900621118012,0.031055900621118012,0.031055900621118012,0.031055900621118012,0.031055900621118012,0.031055900621118012,0.031055900621118012,0.031055900621118012,0.031055900621118012,0.031055900621118012,0.031055900621118012,0.031055900621118012,0.031055900621118012,0.031055900621118012,0.031055900621118012,0.031055900621118012,0.031055900621118012,0.031055900621118012,0.03193424932555368,0.03337725076855512,0.03482025221155656,0.036263253654558,0.037267080745341616,0.037267080745341616,0.037267080745341616,0.037267080745341616,0.037267080745341616},{0.024844720496894408,0.024844720496894408,0.024844720496894408,0.024844720496894408,0.024844720496894408,0.024844720496894408,0.024844720496894408,0.024844720496894408,0.024844720496894408,0.024844720496894408,0.024844720496894408,0.024844720496894408,0.024844720496894408,0.024844720496894408,0.024844720496894408,0.024844720496894408,0.024844720496894408,0.024844720496894408,0.024844720496894408,0.025723069201330072,0.0277307233828973,0.02973837756446452,0.03174603174603175,0.033753685927598975,0.0357613401091662,0.03827090783612523,0.04228621619925969,0.04630152456239414,0.0503168329255286,0.054332141288663025,0.05834744965179748,0.06230001882175796,0.0653115000941088,0.06832298136645963,0.07133446263881048,0.07434594391116132,0.07735742518351214,0.08036890645586298,0.08250203902377816,0.08450969320534539,0.08651734738691261,0.08852500156847984,0.09053265575004706,0.09254030993161427,0.0945479641131815,0.09655561829474874,0.09856327247631597,0.1005709266578832,0.10257858083945041,0.10458623502101763,0.10609197565719306,0.10709580274797667,0.10809962983876029,0.10910345692954389,0.1101072840203275,0.11111111111111112,0.1105464583725453,0.10653115000941087,0.10251584164627643,0.09850053328314196,0.09448522492000752,0.09046991655687305,0.08670556496643453,0.08469791078486728,0.08269025660330007,0.08068260242173285,0.07867494824016562,0.0766672940585984,0.07465963987703117,0.07453416149068323,0.07453416149068323,0.07453416149068323,0.07453416149068323,0.07453416149068323,0.07453416149068323,0.0730284208545078,0.07102076667294058,0.06901311249137336,0.06700545830980612,0.06499780412823891,0.06299014994667167,0.06098249576510445,0.05897484158353721,0.056967187401969994,0.05495953322040278,0.05295187903883554,0.05094422485726832,0.048936570675701084,0.046928916494133874,0.044921262312566636,0.04291360813099942,0.0409059539494322,0.03889829976786496,0.03689064558629775,0.034882991404730515,0.0328753372231633,0.03086768304159608,0.028860028860028843,0.026852374678461625,0.024844720496894408}},{{0.03614457831325301,0.03894365340148473,0.04174272848971644,0.04454180357794816,0.04734087866617987,0.04884183197436209,0.04977485700377267,0.05070788203318324,0.051640907062593805,0.0511135450894487,0.04831447000121699,0.04551539491298528,0.04271631982475356,0.039998377347774935,0.03813232728895379,0.03626627723013265,0.034400227171311505,0.03253417711249036,0.03285870755750273,0.03379173258691331,0.034724757616323876,0.03565778264573445,0.03614457831325301,0.03614457831325301,0.03614457831325301,0.03614457831325301,0.03614457831325301,0.03614457831325301,0.03614457831325301,0.03614457831325301,0.03614457831325301,0.03614457831325301,0.03614457831325301,0.03614457831325301,0.03614457831325301,0.03772666423268833,0.04052573932092004,0.04332481440915175,0.04612388949738348,0.047949373250578076,0.0470163482211675,0.046083323191756925,0.04515029816234636,0.04421727313293579,0.043284248103525214,0.04235122307411464,0.04141819804470407,0.0404851730152935,0.041377631739077526,0.04324368179789867,0.045109731856719806,0.04697578191554095,0.04819277108433735,0.04819277108433735,0.04819277108433735,0.04819277108433735,0.04819277108433735,0.04819277108433735,0.04819277108433735,0.04819277108433735,0.04819277108433735,0.04612388949738348,0.04332481440915177,0.04052573932092004,0.037726664232688334,0.03614457831325301,0.03614457831325301,0.03614457831325301,0.03614457831325301,0.036266277230132656,0.037199302259543224,0.03813232728895379,0.03906535231836436,0.039998377347774935,0.039389882763376745,0.03845685773396616,0.037523832704555594,0.03659080767514502,0.03663137398077157,0.03756439901018214,0.038497424039592706,0.03943044906900328,0.040363474098413864,0.04129649912782443,0.042229524157235,0.043162549186645575,0.044095574216056144,0.04673238408178166,0.049531459170013364,0.05233053425824512,0.05512960934647683,0.055089043040850265,0.05322299298202913,0.051356942923207985,0.04949089286438685,0.04705691452679407,0.043324814409151736,0.03959271429150946,0.03586061417386718,0.0321285140562249},{0.004016064257028112,0.01022270901788974,0.01642935377875137,0.022635998539612998,0.028842643300474625,0.03504928806133625,0.04076913715467932,0.04421727313293578,0.04766540911119224,0.0511135450894487,0.05456168106770516,0.05800981704596162,0.06145795302421808,0.06490608900247455,0.068354224980731,0.07180236095898747,0.07525049693724392,0.07869863291550039,0.08105147864184009,0.08243073303314268,0.08380998742444526,0.08518924181574784,0.08656849620705043,0.08794775059835301,0.0868930266520628,0.08482414506510894,0.08275526347815505,0.08068638189120117,0.0786175003042473,0.07654861871729343,0.07387124254594135,0.07111273376333617,0.06835422498073102,0.06559571619812585,0.06283720741552067,0.06003813232728895,0.056589996349032494,0.05314186037077605,0.049693724392519574,0.04624558841426311,0.04279745243600666,0.040160642570281124,0.040160642570281124,0.040160642570281124,0.040160642570281124,0.040160642570281124,0.040160642570281124,0.04044460670966695,0.04113423390531824,0.041823861100969535,0.04251348829662082,0.04320311549227212,0.04389274268792341,0.04377104377104377,0.043081416575392474,0.04239178937974119,0.0417021621840899,0.041012534988438605,0.04032290779278731,0.04121536651657134,0.04259462090787392,0.0439738752991765,0.045353129690479096,0.046732384081781674,0.04811163847308426,0.050139953754411576,0.05220883534136545,0.05427771692831934,0.05634659851527321,0.05841548010222708,0.06089002474544645,0.06640704231065678,0.07192405987586709,0.07744107744107742,0.08295809500628773,0.08847511257149812,0.09176098332724839,0.08969210174029452,0.08762322015334062,0.08555433856638675,0.08348545697943288,0.08141657539247901,0.07934769380552514,0.07727881221857126,0.07520993063161738,0.07314104904466351,0.07107216745770963,0.06900328587075576,0.06648817492190987,0.06372966613930471,0.06097115735669954,0.058212648574094354,0.05545413979148919,0.05269563100888403,0.04823333738996388,0.0434059470204049,0.03857855665084582,0.033751166281286736,0.028923775911727758,0.024096385542168676}},{{0.03508771929824561,0.037125642388800284,0.03916356547935495,0.04120148856990962,0.043239411660464286,0.04598617756512493,0.04904306220095694,0.05209994683678894,0.055156831472620946,0.05582137161084529,0.05276448697501329,0.049707602339181284,0.046650717703349276,0.043771043771043766,0.04275208222576643,0.0417331206804891,0.040714159135211765,0.03969519758993443,0.039473684210526314,0.039473684210526314,0.039473684210526314,0.039473684210526314,0.03898635477582846,0.03796739323055112,0.036948431685273786,0.03592947013999646,0.0352649300017721,0.03628389154704944,0.037302853092326775,0.038321814637604104,0.03934077618288144,0.040359737728158776,0.04137869927343611,0.04239766081871345,0.043416622363990784,0.04328371433634591,0.04226475279106858,0.041245791245791245,0.04022682970051391,0.040005316321105794,0.04204323941166046,0.04408116250221514,0.0461190855927698,0.04815700868332447,0.054093567251461964,0.06020733652312601,0.06632110579479,0.07243487506645399,0.07389686337054757,0.07287790182527024,0.07185894027999291,0.07083997873471558,0.06982101718943824,0.0688020556441609,0.06778309409888357,0.06676413255360623,0.06552365762892078,0.05940988835725678,0.053296119085592786,0.04718234981392874,0.041068580542264754,0.03570795676058835,0.030613149034201682,0.025518341307814982,0.02042353358142832,0.017543859649122806,0.017543859649122806,0.017543859649122806,0.017543859649122806,0.01767676767676768,0.018695729222045012,0.019714690767322345,0.020733652312599677,0.02175261385787701,0.021088073719652673,0.020069112174375327,0.01905015062909799,0.018031189083820662,0.018607123870281763,0.020645046960836428,0.022682970051391093,0.024720893141945758,0.027866383129541067,0.03499911394648239,0.04213184476342372,0.04926457558036505,0.056397306397306377,0.05701754385964912,0.05701754385964912,0.05701754385964912,0.05701754385964912,0.05515683147262094,0.05209994683678894,0.049043062200956944,0.04598617756512494,0.04261917419812159,0.0385433280170122,0.03446748183590287,0.03039163565479354,0.02631578947368421},{0.008771929824561403,0.01404394825447457,0.019315966684387738,0.024587985114300902,0.02986000354421407,0.03513202197412724,0.04013822434875066,0.04390395179868864,0.04766967924862661,0.05143540669856459,0.05520113414850257,0.05896686159844054,0.0619351408825093,0.0634414318624845,0.06494772284245968,0.06645401382243488,0.06796030480241005,0.06946659578238525,0.07057416267942583,0.07132730816941343,0.07208045365940102,0.07283359914938863,0.07358674463937621,0.0743398901293638,0.07296650717703348,0.0707070707070707,0.06844763423710792,0.06618819776714513,0.06392876129718235,0.06166932482721957,0.06007442849548113,0.05856813751550593,0.057061846535530744,0.05555555555555556,0.05404926457558036,0.052587276271486794,0.0518341307814992,0.05108098529151161,0.05032783980152401,0.04957469431153641,0.04882154882154882,0.04824561403508772,0.04824561403508772,0.04824561403508772,0.04824561403508772,0.04824561403508772,0.04824561403508772,0.04824561403508772,0.04824561403508772,0.04824561403508772,0.04824561403508772,0.04824561403508772,0.04824561403508772,0.047359560517455254,0.045853269537480056,0.04434697855750487,0.04284068757752968,0.041334396597554494,0.03982810561757931,0.04062555378344852,0.04213184476342371,0.04363813574339889,0.0451444267233741,0.04665071770334928,0.04815700868332447,0.05108098529151159,0.054093567251461964,0.05710614921141237,0.06011873117136274,0.06313131313131312,0.06632110579479002,0.07083997873471558,0.07535885167464114,0.0798777246145667,0.08439659755449225,0.08891547049441786,0.0916622363990785,0.09015594541910332,0.08864965443912812,0.08714336345915293,0.08563707247917773,0.08413078149920256,0.08262449051922736,0.08111819953925217,0.07961190855927698,0.07810561757930179,0.07659932659932658,0.0750930356193514,0.07261208576998052,0.06959950381003013,0.06658692185007976,0.06357433989012937,0.06056175793017898,0.057549175970228614,0.05267588162325003,0.04740386319333693,0.04213184476342372,0.036859826333510516,0.031587807903597415,0.02631578947368421}}};

    public static void main(String[] args) {
        try {
            BufferedImage bi = ImageIO.read(new File("GridNums/2.png"));
            System.out.println(processImage(bi));
        } catch (Exception e) {
            //TODO: handle exception
        }
    }

    public static void generateModel() {
        for (int i = 0; i < 9; i++) {
            try {
                BufferedImage bi = ImageIO.read(new File("GridNums/" + (i+1) + ".png"));
                Color c = new Color(0, 0, 0);
                double[] rowHist = process(rowHistogram(bi, c));
                double[] colHist = process(colHistogram(bi, c));
                model[i][0] = rowHist;
                model[i][1] = colHist;
            } catch (Exception ex) {
                ex.printStackTrace();
            }
        }
        try {
            BufferedWriter bw = new BufferedWriter(new FileWriter(new File("model.txt")));
            String out = "{";
            for(int i = 0; i < model.length; i++)
            {
                out += "{{"+toString(model[i][0])+"},{"+toString(model[i][1])+"}}"+(i < model.length-1 ? ",":"};");
            }

            bw.write(out);
            bw.close();
        } catch (Exception ex) {
            ex.printStackTrace();
        }
    }

    public static int processImage(BufferedImage bi) {
        Color c = new Color(0, 0, 0);
        double[] rowHist = process(rowHistogram(bi, c));
        double[] colHist = process(colHistogram(bi, c));
        double[] errors = new double[9];
        for (int i = 0; i < 9; i++) {
            errors[i] = error(model[i][0], rowHist) + error(model[i][1], colHist);
        }
        return minIdx(errors) + 1;
    }

    public static int minIdx(double[] vals) {
        int idx = 0;
        double val = vals[0];
        for (int i = 0; i < vals.length; i++) {
            if (vals[i] < val) {
                val = vals[i];
                idx = i;
            }
        }
        return idx;
    }

    public static double error(double[] a, double[] b) {
        double out = 0;
        for (int i = 0; i < a.length; i++) {
            out += Math.pow(a[i] - b[i], 2);
        }
        return out;
    }

    public static int[] rowHistogram(BufferedImage bi, Color c) {
        int[] out = new int[bi.getHeight()];
        for (int j = 0; j < bi.getHeight(); j++) {
            int count = 0;
            for (int i = 0; i < bi.getWidth(); i++) {
                if (bi.getRGB(i, j) == c.getRGB()) {
                    count++;
                }
            }
            out[j] = count;
        }
        return out;
    }

    public static int[] colHistogram(BufferedImage bi, Color c) {
        int[] out = new int[bi.getWidth()];
        for (int i = 0; i < bi.getWidth(); i++) {
            int count = 0;
            for (int j = 0; j < bi.getHeight(); j++) {
                if (bi.getRGB(i, j) == c.getRGB()) {
                    count++;
                }
            }
            out[i] = count;
        }
        return out;
    }

    public static double[] process(int[] hist) {
        hist = removeZero(hist);
        double[] h = new double[hist.length];
        for (int i = 0; i < h.length; i++) {
            h[i] = (double) hist[i] / sum(hist);
        }
        return resize(h, 100);
    }

    public static int[] removeZero(int[] arr) {
        int leftIdx = 0;
        int rightIdx = arr.length;
        boolean l = true;
        boolean r = true;
        for (int i = 0; i < arr.length; i++) {
            if (l && leftIdx < arr.length && arr[leftIdx] == 0) {
                leftIdx++;
            } else {
                l = false;
            }
            if (r && rightIdx > 0 && arr[rightIdx - 1] == 0) {
                rightIdx--;
            } else {
                r = false;
            }
        }
        if (leftIdx < rightIdx) {
            return subarr(arr, leftIdx, rightIdx);
        } else {
            return null;
        }
    }

    public static int[] subarr(int[] arr, int min, int max) {
        int[] out = new int[max - min];
        for (int i = min; i < max; i++) {
            out[i - min] = arr[i];
        }
        return out;
    }

    public static double[] resize(double[] in, int length) {
        double[] out = new double[length];
        double scalar = (double) (in.length - 1) / (out.length - 1);
        for (int i = 0; i < out.length; i++) {
            double tempIdx = scalar * i;
            int minIdx = (int) Math.floor(tempIdx);
            int maxIdx = (int) Math.ceil(tempIdx);
            out[i] = linearInterpolation(in[minIdx], in[(maxIdx < in.length ? maxIdx : in.length - 1)],
                    tempIdx - minIdx);
        }
        return out;
    }

    public static double linearInterpolation(double min, double max, double percentage) {
        return (max - min) * percentage + min;
    }

    public static double sum(double[] arr) {
        double sum = 0;
        for (double v : arr) {
            sum += v;
        }
        return sum;
    }

    public static int sum(int[] arr) {
        int sum = 0;
        for (int v : arr) {
            sum += v;
        }
        return sum;
    }

    public static String toString(double[] arr) {
        String out = "";
        for (double v : arr) {
            out += v + ",";
        }
        return out.substring(0, out.length() - 1);
    }

    public static void print(int[] arr) {
        for (int v : arr) {
            System.out.print(v);
        }
        System.out.println();
    }

    public static void print(double[] arr) {
        System.out.println(toString(arr));
    }
}